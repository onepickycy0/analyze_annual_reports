# å…³é”®è¯é¢‘ç‡åˆ†æå·¥å…·

## ğŸ“Š åŠŸèƒ½è¯´æ˜

è¿™ä¸ªå·¥å…·ä¼šç»Ÿè®¡ä»¥ä¸‹å…³é”®è¯åœ¨æ¯ä¸ªå…¬å¸å¹´æŠ¥**å…¨æ–‡**ä¸­çš„å‡ºç°é¢‘ç‡å’Œæ¬¡æ•°ï¼š

### å…³é”®è¯åˆ—è¡¨

1. **cost** (æˆæœ¬)
   - å˜ä½“: cost, costs

2. **efficiency** (æ•ˆç‡)
   - å˜ä½“: efficiency, efficient, efficiently

3. **profit** (åˆ©æ¶¦)
   - å˜ä½“: profit, profits, profitability, profitable

4. **resilience** (éŸ§æ€§)
   - å˜ä½“: resilience, resilient

5. **security** (å®‰å…¨)
   - å˜ä½“: security, secure

6. **risk** (é£é™©)
   - å˜ä½“: risk, risks, risky

7. **uncertainty** (ä¸ç¡®å®šæ€§)
   - å˜ä½“: uncertainty, uncertain, uncertainties

8. **diversification** (å¤šå…ƒåŒ–)
   - å˜ä½“: diversification, diversify, diversified

9. **localization** (æœ¬åœ°åŒ–)
   - å˜ä½“: localization, localize, localized, localisation

10. **flexibility** (çµæ´»æ€§)
    - å˜ä½“: flexibility, flexible

11. **continuity** (è¿ç»­æ€§)
    - å˜ä½“: continuity, continuous

12. **critical_inputs** (å…³é”®æŠ•å…¥)
    - å˜ä½“: critical input, critical inputs, critical material, critical materials

13. **de_risking** (å»é£é™©)
    - å˜ä½“: de-risking, de-risk, derisking, derisk

14. **realignment** (é‡æ–°è°ƒæ•´)
    - å˜ä½“: realignment, realign, realigned

15. **volatility** (æ³¢åŠ¨æ€§)
    - å˜ä½“: volatility, volatile

---

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬ç”¨æ³•

```bash
cd /root/liujie/nianbao-v2

# åˆ†ææ‰€æœ‰å¹´ä»½
python3 keyword_frequency_analyzer.py

# åˆ†ææŒ‡å®šå¹´ä»½
python3 keyword_frequency_analyzer.py --years 2023 2024

# æŒ‡å®šè¾“å‡ºæ–‡ä»¶
python3 keyword_frequency_analyzer.py --output my_analysis.csv
```

### å‚æ•°è¯´æ˜

- `--years`: è¦åˆ†æçš„å¹´ä»½ï¼ˆå¯é€‰ï¼Œé»˜è®¤å…¨éƒ¨ï¼‰
  - ç¤ºä¾‹: `--years 2020 2021 2022`
  
- `--db`: æ•°æ®åº“è·¯å¾„ï¼ˆå¯é€‰ï¼‰
  - é»˜è®¤: `/root/liujie/nianbao-v2results/annual_reports_quantitative.db`
  
- `--output`: è¾“å‡ºCSVæ–‡ä»¶è·¯å¾„ï¼ˆå¯é€‰ï¼‰
  - é»˜è®¤: `/root/liujie/nianbao-v2results/keyword_frequency_analysis.csv`

---

## ğŸ“„ è¾“å‡ºæ–‡ä»¶

è„šæœ¬ä¼šç”Ÿæˆä¸¤ä¸ªCSVæ–‡ä»¶ï¼š

### 1. è¯¦ç»†æ•°æ®æ–‡ä»¶
**æ–‡ä»¶å**: `keyword_frequency_analysis.csv`

**åˆ—è¯´æ˜**:
- `year`: å¹´ä»½
- `ticker`: å…¬å¸è‚¡ç¥¨ä»£ç 
- `company_name`: å…¬å¸åç§°
- `total_words`: **å¹´æŠ¥å…¨æ–‡çš„æ€»è¯æ•°**
- `{keyword}_count`: è¯¥å…³é”®è¯çš„å‡ºç°æ¬¡æ•°ï¼ˆåŒ…å«æ‰€æœ‰å˜ä½“ï¼‰
- `{keyword}_freq`: è¯¥å…³é”®è¯çš„é¢‘ç‡ï¼ˆæ¯åƒè¯ï¼‰

**ç¤ºä¾‹**:
```csv
year,ticker,company_name,total_words,cost_count,cost_freq,efficiency_count,efficiency_freq,...
2024,AAPL,Apple Inc.,125000,450,3.6,89,0.71,...
2024,MSFT,Microsoft Corp.,138000,523,3.79,102,0.74,...
```

### 2. æ±‡æ€»ç»Ÿè®¡æ–‡ä»¶
**æ–‡ä»¶å**: `keyword_frequency_analysis_summary.csv`

**åˆ—è¯´æ˜**:
- `year`: å¹´ä»½
- `companies`: è¯¥å¹´ä»½çš„å…¬å¸æ•°é‡
- `{keyword}_mean`: è¯¥å…³é”®è¯å‡ºç°æ¬¡æ•°çš„å¹³å‡å€¼
- `{keyword}_median`: è¯¥å…³é”®è¯å‡ºç°æ¬¡æ•°çš„ä¸­ä½æ•°
- `{keyword}_max`: è¯¥å…³é”®è¯å‡ºç°æ¬¡æ•°çš„æœ€å¤§å€¼
- `{keyword}_total`: è¯¥å…³é”®è¯åœ¨æ‰€æœ‰å…¬å¸ä¸­çš„æ€»å‡ºç°æ¬¡æ•°

**ç¤ºä¾‹**:
```csv
year,companies,cost_mean,cost_median,cost_max,cost_total,...
2024,232,450.5,420,1250,104516,...
```

---

## ğŸ” å·¥ä½œåŸç†

1. **è¯»å–å¹´æŠ¥å…¨æ–‡**
   - ä»æ•°æ®åº“çš„ `companies_{year}` è¡¨è·å–æ–‡ä»¶è·¯å¾„
   - è§£æHTMLæ–‡ä»¶ï¼Œæå–å…¨éƒ¨æ–‡æœ¬ï¼ˆå»é™¤scriptã€styleç­‰æ ‡ç­¾ï¼‰
   - è®¡ç®—å…¨æ–‡è¯æ•°

2. **å…³é”®è¯åŒ¹é…**
   - ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼Œç¡®ä¿å®Œæ•´å•è¯åŒ¹é…ï¼ˆè¯è¾¹ç•Œï¼‰
   - ä¸åŒºåˆ†å¤§å°å†™
   - ç»Ÿè®¡æ‰€æœ‰å˜ä½“çš„æ€»æ¬¡æ•°

3. **é¢‘ç‡è®¡ç®—**
   - é¢‘ç‡ = (å…³é”®è¯æ¬¡æ•° / å…¨æ–‡è¯æ•°) Ã— 1000
   - å•ä½ï¼šæ¯åƒè¯

4. **ç»Ÿè®¡æ±‡æ€»**
   - æŒ‰å¹´ä»½è®¡ç®—å¹³å‡å€¼ã€ä¸­ä½æ•°ã€æœ€å¤§å€¼ã€æ€»å’Œ

---

## ğŸ“ˆ ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹1: åˆ†æ2024å¹´
```bash
python3 keyword_frequency_analyzer.py --years 2024
```

**é¢„æœŸè¾“å‡º**:
```
================================================================================
å…³é”®è¯é¢‘ç‡åˆ†æå™¨
================================================================================
åˆ†æå¹´ä»½: [2024]
å…³é”®è¯æ•°é‡: 16

åˆ†æ 2024 å¹´...
  å…¬å¸æ•°é‡: 232
    å¤„ç†: 1/232 - AAPL
    å¤„ç†: 20/232 - BA
    å¤„ç†: 40/232 - GE
    ...
  âœ“ å®Œæˆ 232 ä¸ªå…¬å¸

================================================================================
âœ… å®Œæˆæ‰€æœ‰åˆ†æ
  æ€»è®°å½•æ•°: 232
================================================================================

å¯¼å‡ºåˆ°CSV: /root/liujie/nianbao-v2results/keyword_frequency_analysis.csv
âœ“ å·²å¯¼å‡º 232 æ¡è®°å½•

ç”Ÿæˆæ±‡æ€»ç»Ÿè®¡: /root/liujie/nianbao-v2results/keyword_frequency_analysis_summary.csv
âœ“ å·²å¯¼å‡ºæ±‡æ€»ç»Ÿè®¡

================================================================================
âœ… å…¨éƒ¨å®Œæˆ
  è¯¦ç»†æ•°æ®: /root/liujie/nianbao-v2results/keyword_frequency_analysis.csv
  æ±‡æ€»ç»Ÿè®¡: /root/liujie/nianbao-v2results/keyword_frequency_analysis_summary.csv
================================================================================
```

### ç¤ºä¾‹2: åˆ†æå¤šä¸ªå¹´ä»½
```bash
python3 keyword_frequency_analyzer.py --years 2020 2021 2022 2023 2024
```

### ç¤ºä¾‹3: è‡ªå®šä¹‰è¾“å‡ºè·¯å¾„
```bash
python3 keyword_frequency_analyzer.py \
  --years 2024 \
  --output /root/liujie/results/2024_keywords.csv
```

---

## ğŸ“Š æ•°æ®åˆ†æå»ºè®®

### åœ¨Excel/Pythonä¸­è¿›ä¸€æ­¥åˆ†æ

1. **æ—¶é—´è¶‹åŠ¿åˆ†æ**
   - æ¯”è¾ƒåŒä¸€å…¬å¸ä¸åŒå¹´ä»½çš„å…³é”®è¯é¢‘ç‡å˜åŒ–
   - è¯†åˆ«è¡Œä¸šè¶‹åŠ¿

2. **è·¨å…¬å¸å¯¹æ¯”**
   - å¯¹æ¯”åŒè¡Œä¸šä¸åŒå…¬å¸çš„å…³é”®è¯ä½¿ç”¨
   - è¯†åˆ«æˆ˜ç•¥å·®å¼‚

3. **ç›¸å…³æ€§åˆ†æ**
   - åˆ†æå…³é”®è¯ä¹‹é—´çš„ç›¸å…³æ€§
   - ä¾‹å¦‚ï¼šrisk vs. de-risking, cost vs. efficiency

4. **å¼‚å¸¸æ£€æµ‹**
   - è¯†åˆ«å…³é”®è¯é¢‘ç‡å¼‚å¸¸é«˜/ä½çš„å…¬å¸
   - å¯èƒ½è¡¨ç¤ºç‰¹æ®Šçš„æˆ˜ç•¥è°ƒæ•´

### å¯è§†åŒ–å»ºè®®

- **çƒ­åŠ›å›¾**: å±•ç¤ºä¸åŒå…¬å¸/å¹´ä»½çš„å…³é”®è¯é¢‘ç‡
- **æŠ˜çº¿å›¾**: å±•ç¤ºå…³é”®è¯é¢‘ç‡çš„æ—¶é—´è¶‹åŠ¿
- **æ•£ç‚¹å›¾**: å±•ç¤ºå…³é”®è¯ä¹‹é—´çš„å…³ç³»

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **å¤„ç†æ—¶é—´**
   - æ¯ä¸ªå…¬å¸éœ€è¦è§£æHTMLæ–‡ä»¶ï¼Œå¯èƒ½éœ€è¦å‡ ç§’
   - 232ä¸ªå…¬å¸å¤§çº¦éœ€è¦ 5-10 åˆ†é’Ÿ

2. **æ–‡ä»¶è·¯å¾„**
   - ç¡®ä¿ `companies_{year}` è¡¨ä¸­çš„ `file_path` æ­£ç¡®
   - HTMLæ–‡ä»¶å¿…é¡»å­˜åœ¨ä¸”å¯è¯»

3. **å†…å­˜ä½¿ç”¨**
   - æ¯æ¬¡åªåŠ è½½ä¸€ä¸ªHTMLæ–‡ä»¶åˆ°å†…å­˜
   - æ­£å¸¸æƒ…å†µä¸‹ä¸ä¼šæœ‰å†…å­˜é—®é¢˜

4. **è¯è¾¹ç•ŒåŒ¹é…**
   - ä½¿ç”¨ `\b` è¯è¾¹ç•Œï¼Œç¡®ä¿å®Œæ•´å•è¯åŒ¹é…
   - ä¾‹å¦‚: "cost" åŒ¹é… "cost" ä½†ä¸åŒ¹é… "costume"

---

## ğŸ”§ æ•…éšœæ’æŸ¥

### é—®é¢˜1: æ— æ³•æ‰¾åˆ°HTMLæ–‡ä»¶
**ç—‡çŠ¶**: è¾“å‡º "æ— æ³•è·å– XXX çš„å…¨æ–‡"

**è§£å†³**:
```bash
# æ£€æŸ¥æ•°æ®åº“ä¸­çš„æ–‡ä»¶è·¯å¾„
sqlite3 gpt-5/annual_reports_quantitative.db "SELECT ticker, file_path FROM companies_2024 LIMIT 5;"

# æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨
ls gpt-5/reports/2024/*.html | head -5
```

### é—®é¢˜2: è¯æ•°ä¸º0
**ç—‡çŠ¶**: total_words = 0

**å¯èƒ½åŸå› **:
- HTMLæ–‡ä»¶ä¸ºç©ºæˆ–æŸå
- è§£æé”™è¯¯

**è§£å†³**: æ‰‹åŠ¨æ£€æŸ¥HTMLæ–‡ä»¶å†…å®¹

### é—®é¢˜3: å¤„ç†é€Ÿåº¦æ…¢
**ç—‡çŠ¶**: æ¯ä¸ªå…¬å¸éœ€è¦å¾ˆé•¿æ—¶é—´

**å¯èƒ½åŸå› **:
- HTMLæ–‡ä»¶è¿‡å¤§
- ç£ç›˜I/Oæ…¢

**ä¼˜åŒ–**: å¯ä»¥æ·»åŠ å¹¶å‘å¤„ç†ï¼ˆæœªæ¥ç‰ˆæœ¬ï¼‰

---

## ğŸ“ è¾“å‡ºç¤ºä¾‹

### è¯¦ç»†æ•°æ®ç¤ºä¾‹
| year | ticker | company_name | total_words | cost_count | cost_freq | efficiency_count | efficiency_freq |
|------|--------|--------------|-------------|------------|-----------|------------------|-----------------|
| 2024 | AAPL   | Apple Inc.   | 125000      | 450        | 3.60      | 89               | 0.71            |
| 2024 | MSFT   | Microsoft    | 138000      | 523        | 3.79      | 102              | 0.74            |

### æ±‡æ€»ç»Ÿè®¡ç¤ºä¾‹
| year | companies | cost_mean | cost_median | cost_max | cost_total |
|------|-----------|-----------|-------------|----------|------------|
| 2024 | 232       | 450.5     | 420         | 1250     | 104516     |
| 2023 | 228       | 435.2     | 405         | 1180     | 99226      |

---

## ğŸ¯ åç»­åˆ†æå»ºè®®

ä½¿ç”¨ç”Ÿæˆçš„CSVæ–‡ä»¶ï¼Œä½ å¯ä»¥ï¼š

1. åœ¨Excelä¸­åˆ›å»ºæ•°æ®é€è§†è¡¨
2. ä½¿ç”¨Python/Rè¿›è¡Œç»Ÿè®¡åˆ†æ
3. ç”Ÿæˆå¯è§†åŒ–å›¾è¡¨
4. è¿›è¡Œå›å½’åˆ†æ
5. è¯†åˆ«è¡Œä¸šè¶‹åŠ¿å’Œå…¬å¸æˆ˜ç•¥å˜åŒ–

---

ç”Ÿæˆæ—¶é—´: 2024-11-20
ç‰ˆæœ¬: v1.0


